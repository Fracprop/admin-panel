"use strict";(self.webpackChunk_fracprop_panel=self.webpackChunk_fracprop_panel||[]).push([[288],{2288:(Ut,U,n)=>{n.r(U),n.d(U,{UserManagementModule:()=>At});var Z=n(3423),J=n(1095),P=n(7539),b=n(8295),Y=n(6627),Q=n(9983),O=n(3935),_=n(9692),h=n(2178),q=n(2458),$=n(1494),C=n(5396),S=n(1436),F=n(4466),E=n(1769),M=n(171),B=n(2613),R=n(7441),k=n(9765),z=n(8288),t=n(7716),N=n(9075),y=n(1400),H=n(3679),r=n(2340),u=n(5917),d=n(3190),G=n(1841);let x=(()=>{class i{constructor(e){this._httpClient=e}getRoles(e){return this._httpClient.get(r.N.apiEndPoint+"user_role_m/GetAll",{params:Object.assign({},e)}).pipe((0,d.w)(s=>(0,u.of)(s)))}getUserDetails(e){return this._httpClient.get(r.N.apiEndPoint+"user/KycDetails/"+e,{}).pipe((0,d.w)(s=>(0,u.of)(s)))}addAdmin(e){return this._httpClient.post(r.N.apiEndPoint+"Doctors/InsertDoctor",Object.assign({},e)).pipe((0,d.w)(s=>(0,u.of)(s)))}updateAdmin(e){return this._httpClient.put(r.N.apiEndPoint+"Doctors/UpdateDoctor",Object.assign({},e)).pipe((0,d.w)(s=>(0,u.of)(s)))}addUser(e){return this._httpClient.post(r.N.apiEndPoint+"user_master_m/Add_NormalUser",Object.assign({},e)).pipe((0,d.w)(s=>(0,u.of)(s)))}updateUserStatus(e){return this._httpClient.patch(r.N.apiEndPoint+"user/userStatus/"+e.status+"/"+e.id,{}).pipe((0,d.w)(s=>(0,u.of)(s)))}getUsers(e){let s="";return console.log(e),s=1===e.currentTab?"user/getAllBusiness/":"user/getAllStandard/",this._httpClient.get(r.N.apiEndPoint+s+e.pageNo+"/"+e.limit,{}).pipe((0,d.w)(l=>(0,u.of)(l)))}getUserMenu(e){return this._httpClient.get(r.N.apiEndPoint+"AdminInstitution/GetUserDefaultMenu",{}).pipe((0,d.w)(s=>(0,u.of)(s)))}deleteUser(e){return this._httpClient.delete(r.N.apiEndPoint+"user_master_m/DeleteUserDetail",{params:Object.assign({},e)}).pipe((0,d.w)(s=>(0,u.of)(s)))}blockUser(e){return this._httpClient.delete(r.N.apiEndPoint+`Doctors/BlockDoctor/${e}`,{}).pipe((0,d.w)(s=>(0,u.of)(s)))}unblockUser(e){return this._httpClient.post(r.N.apiEndPoint+"user_master_m/UnBlockUser",Object.assign({},e)).pipe((0,d.w)(s=>(0,u.of)(s)))}matchingForGrps(e){return this._httpClient.get(r.N.apiEndPoint+`matching-process/${e}`,{}).pipe((0,d.w)(s=>(0,u.of)(s)))}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(G.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();var w=n(8351),I=n(2422),j=n(8951),f=n(8583),T=n(2542);function V(i,a){1&i&&(t.TgZ(0,"div",16),t._UZ(1,"mat-progress-bar",17),t.qZA()),2&i&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function W(i,a){if(1&i&&(t.ynx(0),t.TgZ(1,"div",23),t.TgZ(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"div",24),t._uU(5),t._UZ(6,"br"),t.qZA(),t.TgZ(7,"div",24),t._uU(8),t.qZA(),t.TgZ(9,"div",24),t._uU(10),t.qZA(),t.TgZ(11,"div",24),t._uU(12),t.qZA(),t.TgZ(13,"div",25),t.TgZ(14,"button",26),t._uU(15," View Details "),t.qZA(),t.qZA(),t.qZA(),t.BQk()),2&i){const e=a.$implicit,s=a.index,l=t.oxw(2);t.xp6(3),t.hij(" ",(null==l.pagination?null:l.pagination.PageNo)*(null==l.pagination?null:l.pagination.limit)+s+1," "),t.xp6(2),t.hij(" ",1===l.currentTab?null==e?null:e.company_name:null==e?null:e.username,""),t.xp6(3),t.hij(" ",null==e?null:e.email," "),t.xp6(2),t.hij(" ",1===l.currentTab?(null==e?null:e.registration_no)||"-":(null==e?null:e.work_number)||"-"," "),t.xp6(2),t.hij(" ",null==e?null:e.userStatus," "),t.xp6(2),t.hYB("routerLink","/users/details/",null==e?null:e.id,"/",null==e?null:e.userStatus,"")}}const K=function(i){return{"pointer-events-none":i}},X=function(){return[5,10,25,100]};function tt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"mat-paginator",27),t.NdJ("page",function(l){return t.CHM(e),t.oxw(2).pageChanged(l)}),t.qZA()}if(2&i){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(6,K,e.isLoading))("length",e.pagination.TotalCount)("pageIndex",e.pagination.PageNo)("pageSize",e.pagination.limit)("pageSizeOptions",t.DdM(8,X))("showFirstLastButtons",!0)}}function et(i,a){if(1&i&&(t.ynx(0),t.ynx(1),t.TgZ(2,"div",18),t.TgZ(3,"div",19),t.TgZ(4,"div",20),t._uU(5,"S No."),t.qZA(),t.TgZ(6,"div",20),t._uU(7),t.qZA(),t.TgZ(8,"div",20),t._uU(9,"Email ID"),t.qZA(),t.TgZ(10,"div",20),t._uU(11),t.qZA(),t.TgZ(12,"div",20),t._uU(13,"Status"),t.qZA(),t.TgZ(14,"div",20),t._uU(15,"Actions"),t.qZA(),t.qZA(),t.ynx(16),t.YNc(17,W,16,7,"ng-container",21),t.BQk(),t.qZA(),t.YNc(18,tt,1,9,"mat-paginator",22),t.BQk(),t.BQk()),2&i){const e=t.oxw();t.xp6(7),t.hij(" ",1===e.currentTab?"Company Name":"Username"," "),t.xp6(4),t.hij(" ",1===e.currentTab?"Registeration No.":"Mobile No."," "),t.xp6(6),t.Q6J("ngForOf",e.users$),t.xp6(1),t.Q6J("ngIf",e.users$.length)}}function it(i,a){if(1&i&&(t.TgZ(0,"div",28),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" ",e.isLoading?"Fetching Users":"There are no users!"," ")}}let st=(()=>{class i{constructor(e,s,l,o,g,c,p,m){this.titleService=e,this._changeDetectorRef=s,this._fuseConfirmationService=l,this._formBuilder=o,this._userService=g,this._commonService=c,this._errorService=p,this._authService=m,this.loading=!1,this.users$=[],this.isLoading1=!1,this.isLoading=!1,this.isBlocked=!1,this.pagination={limit:10,pageNo:0,TotalCount:0,PageNo:0},this.currentTab=0,this._unsubscribeAll=new k.xQ,this.titleService.setTitle("FracProp"),this.confirmationForm(),this.pagination=localStorage.getItem("userPayload")?JSON.parse(localStorage.getItem("userPayload")):{limit:10,pageNo:0,TotalCount:0,PageNo:0},this.currentTab=localStorage.getItem("userPayload")?JSON.parse(localStorage.getItem("userPayload")).currentTab:0}ngOnInit(){this.getUsers()}ngAfterViewInit(){}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}getUsers(){var e,s;let l={pageNo:null===(e=this.pagination)||void 0===e?void 0:e.PageNo,limit:null===(s=this.pagination)||void 0===s?void 0:s.limit};console.log(l),this.isLoading=!0,this._userService.getUsers(Object.assign(Object.assign({},l),{currentTab:this.currentTab})).subscribe(o=>{this.isLoading=!1,localStorage.setItem("userPayload",JSON.stringify(Object.assign(Object.assign({},this.pagination),{currentTab:this.currentTab}))),this.pagination.TotalCount=null==o?void 0:o.totalCount,this.users$=(null==o?void 0:o.users)?[...null==o?void 0:o.users]:[],this._changeDetectorRef.detectChanges()},o=>{this.isLoading=!1,this._commonService.error(o.error.message)})}pageChanged(e){var s,l,o,g,c,p,m,v;if(console.log(null===(s=this.pagination)||void 0===s?void 0:s.limit,null===(l=this.pagination)||void 0===l?void 0:l.PageNo),console.log(null==e?void 0:e.pageSize,null===(o=this.pagination)||void 0===o?void 0:o.limit),(null==e?void 0:e.pageSize)!==(null===(g=this.pagination)||void 0===g?void 0:g.limit))return this.pagination.LimitRecords=null==e?void 0:e.pageSize,void this.resetPagination();this.pagination.limit=null==e?void 0:e.pageSize,this.pagination.PageNo=null==e?void 0:e.pageIndex,this.pagination.pageNo=(null===(c=this.pagination)||void 0===c?void 0:c.limit)*(null===(p=this.pagination)||void 0===p?void 0:p.PageNo),console.log(null===(m=this.pagination)||void 0===m?void 0:m.limit,null===(v=this.pagination)||void 0===v?void 0:v.PageNo),this.getUsers()}resetPagination(){this.pagination={limit:this.pagination.limit,pageNo:0,TotalCount:0,PageNo:0},this.getUsers()}resetFilter(){this.form.reset(),this.pagination={limit:this.pagination.limit,pageNo:0,TotalCount:0,PageNo:0},this.getUsers()}confirmationForm(){this.confirmationDialog=this._formBuilder.group({title:"",message:"",icon:this._formBuilder.group({show:!0,name:"mat_outline:delete",color:"warn"}),actions:this._formBuilder.group({confirm:this._formBuilder.group({show:!0,label:"Yes",color:"warn"}),cancel:this._formBuilder.group({show:!0,label:"No"})}),dismissible:!0})}blockUser(e){this._userService.blockUser(e).subscribe(s=>{if(s.success)this.isLoading=!1,this.getUsers();else{let l=this._errorService.errorMessage(s);this._commonService.error(l),this.isLoading=!1}},s=>{this.isLoading=!1})}onFileChange(e){let s=e.target.files[0];s.size<1e6?this.saveFiles(s):this._commonService.throwErr("Please upload excel file with size less than 1 Mb.")}saveFiles(e){this.isLoading1=!0,this._commonService.uploadFile(e).subscribe(s=>{if(this.isLoading1=!1,this._changeDetectorRef.detectChanges(),s.success)this.isLoading1=!1,this._commonService.success("Users imported successfully"),this.getUsers();else{if(401==s.requestCode)return void(this.isLoading1=!1);{let l=this._errorService.errorMessage(s);this._commonService.throwErr(l),this.isLoading1=!1}}},s=>{this.isLoading1=!1})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(N.Dx),t.Y36(t.sBO),t.Y36(y.R),t.Y36(H.qu),t.Y36(x),t.Y36(w.v),t.Y36(I.r),t.Y36(j.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-users"]],viewQuery:function(e,s){if(1&e&&(t.Gf(_.NW,5),t.Gf($.YE,5)),2&e){let l;t.iGM(l=t.CRH())&&(s._paginator=l.first),t.iGM(l=t.CRH())&&(s._sort=l.first)}},decls:24,vars:7,consts:[[1,"sm:absolute","sm:inset-0","flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-4","px-6","md:px-4"],["class","absolute inset-x-0 top-0",4,"ngIf"],[1,"flex","items-start","justify-between","w-full"],[1,"text-3xl","font-bold","tracking-tight","leading-8","text-theme"],[1,"flex","flex-col"],[3,"value"],[1,"font-semibold","mr-2",3,"value","click"],[1,"text-xl","font-bold","tracking-tight","leading-8","text-theme","text-right","pt-4"],[1,"mr-4","flex","justify-end"],[1,"flex","justify-between","items-center"],[1,"flex","items-center","justify-start","w-full","m-4"],[1,"flex","flex-auto","overflow-hidden"],[1,"flex","flex-col","flex-auto","sm:mb-18","overflow-hidden","sm:overflow-y-auto"],[4,"ngIf","ngIfElse"],["noAdmin",""],[1,"absolute","inset-x-0","top-0"],[3,"mode"],[1,"grid","table_tr_bg","overflow-x-auto"],[1,"admin-grid","z-10","sticky","top-0","grid","gap-4","py-4","px-6","md:px-8","shadow","text-md","font-semibold",2,"background-color","#e2bc72"],[1,"hidden","md:block"],[4,"ngFor","ngForOf"],["class","sm:absolute sm:inset-x-0 sm:bottom-0 border-b sm:border-t sm:border-b-0 z-10 bg-gray-50 dark:bg-transparent justify-center text-header",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page",4,"ngIf"],[1,"admin-grid","font-medium","grid","items-center","gap-4","py-3","px-6","md:px-8","border-b-2","border-gray-300"],[1,""],[1,"flex","justify-start"],["matTooltip","Details",1,"min-w-10","min-h-7","h-7","px-2","ml-1","border-2","border-black","rounded-2xl",3,"routerLink"],[1,"sm:absolute","sm:inset-x-0","sm:bottom-0","border-b","sm:border-t","sm:border-b-0","z-10","bg-gray-50","dark:bg-transparent","justify-center","text-header",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons","page"],[1,"p-8","sm:p-16","border-t","text-4xl","font-semibold","tracking-tight","text-center"]],template:function(e,s){if(1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,V,2,1,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div"),t.TgZ(5,"h2",4),t._uU(6," User Management "),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"div"),t.TgZ(9,"mat-button-toggle-group",6),t.TgZ(10,"mat-button-toggle",7),t.NdJ("click",function(){return s.currentTab=0,s.resetPagination()}),t._uU(11," Individual"),t.qZA(),t.TgZ(12,"mat-button-toggle",7),t.NdJ("click",function(){return s.currentTab=1,s.resetPagination()}),t._uU(13," Business"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(14,"div",8),t._uU(15),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(16,"div",9),t.TgZ(17,"div",10),t._UZ(18,"div",11),t.qZA(),t.TgZ(19,"div",12),t.TgZ(20,"div",13),t.YNc(21,et,19,4,"ng-container",14),t.YNc(22,it,2,1,"ng-template",null,15,t.W1O),t.qZA(),t.qZA(),t.qZA()),2&e){const l=t.MAs(23);t.xp6(2),t.Q6J("ngIf",s.isLoading),t.xp6(7),t.Q6J("value",s.currentTab),t.xp6(1),t.Q6J("value",0),t.xp6(2),t.Q6J("value",1),t.xp6(3),t.hij(" Total Count: ",s.pagination.TotalCount||0," "),t.xp6(6),t.Q6J("ngIf",s.users$.length)("ngIfElse",l)}},directives:[f.O5,T.A9,T.Yi,h.pW,f.sg,S.gM,Z.rH,_.NW,f.mk],styles:[".admin-grid>div{word-wrap:break-word}\n",".admin-grid{grid-template-columns:auto auto auto}@media (min-width: 600px){.admin-grid{grid-template-columns:auto auto auto auto}}@media (min-width: 960px){.admin-grid{grid-template-columns:100px 200px 200px 200px 200px 200px}}@media (min-width: 1280px){.admin-grid{grid-template-columns:100px 200px 200px 200px 200px 200px}}\n"],encapsulation:2,data:{animation:z.L},changeDetection:0}),i})();var lt=n(1099),D=n(3220),L=n(4885),nt=n(8394);function at(i,a){1&i&&(t.TgZ(0,"div",3),t._UZ(1,"mat-progress-bar",4),t.qZA()),2&i&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function ot(i,a){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"a",21),t._UZ(2,"img",22),t.qZA(),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("href",null==e.userDetails$?null:e.userDetails$.upload_front,t.LSH)}}function rt(i,a){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"a",21),t._UZ(2,"img",23),t.qZA(),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("href",null==e.userDetails$?null:e.userDetails$.upload_front,t.LSH),t.xp6(1),t.Q6J("src",null==e.userDetails$?null:e.userDetails$.upload_front,t.LSH)}}function ut(i,a){if(1&i&&(t.TgZ(0,"div",18),t.YNc(1,ot,3,1,"div",19),t.YNc(2,rt,3,2,"ng-template",null,20,t.W1O),t.qZA()),2&i){const e=t.MAs(3),s=t.oxw(3);t.xp6(1),t.Q6J("ngIf","application/pdf"===(null==s.userDetails$?null:s.userDetails$.upload_front_file_type))("ngIfElse",e)}}function dt(i,a){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"a",21),t._UZ(2,"img",22),t.qZA(),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("href",null==e.userDetails$?null:e.userDetails$.upload_back,t.LSH)}}function gt(i,a){if(1&i&&(t.TgZ(0,"div"),t.TgZ(1,"a",21),t._UZ(2,"img",23),t.qZA(),t.qZA()),2&i){const e=t.oxw(4);t.xp6(1),t.Q6J("href",null==e.userDetails$?null:e.userDetails$.upload_back,t.LSH),t.xp6(1),t.Q6J("src",null==e.userDetails$?null:e.userDetails$.upload_back,t.LSH)}}function ct(i,a){if(1&i&&(t.TgZ(0,"div",18),t.YNc(1,dt,3,1,"div",19),t.YNc(2,gt,3,2,"ng-template",null,20,t.W1O),t.qZA()),2&i){const e=t.MAs(3),s=t.oxw(3);t.xp6(1),t.Q6J("ngIf","application/pdf"===(null==s.userDetails$?null:s.userDetails$.upload_back_file_type))("ngIfElse",e)}}function pt(i,a){if(1&i&&(t.TgZ(0,"div",11),t.TgZ(1,"table",12),t.TgZ(2,"thead"),t.TgZ(3,"tr"),t.TgZ(4,"th",13),t._uU(5,"Item"),t.qZA(),t.TgZ(6,"th",13),t._uU(7,"Desciption"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"tbody",14),t.TgZ(9,"tr",14),t.TgZ(10,"td",15),t._uU(11,"Legal Name"),t.qZA(),t.TgZ(12,"td",15),t._uU(13),t.qZA(),t.qZA(),t.TgZ(14,"tr"),t.TgZ(15,"td",15),t._uU(16," Need for liquidity "),t.qZA(),t.TgZ(17,"td",15),t._uU(18),t.qZA(),t.qZA(),t.TgZ(19,"tr"),t.TgZ(20,"td",15),t._uU(21," Annual Income "),t.qZA(),t.TgZ(22,"td",15),t._uU(23),t.qZA(),t.qZA(),t.TgZ(24,"tr"),t.TgZ(25,"td",15),t._uU(26," Fracprop association "),t.qZA(),t.TgZ(27,"td",15),t._uU(28),t.qZA(),t.qZA(),t.TgZ(29,"tr",14),t.TgZ(30,"td",15),t._uU(31," Source of fund "),t.qZA(),t.TgZ(32,"td",15),t._uU(33),t.qZA(),t.qZA(),t.TgZ(34,"tr",14),t.TgZ(35,"td",15),t._uU(36,"Bank"),t.qZA(),t.TgZ(37,"td",15),t._uU(38),t.qZA(),t.qZA(),t.TgZ(39,"tr"),t.TgZ(40,"td",15),t._uU(41," Employment status "),t.qZA(),t.TgZ(42,"td",15),t._uU(43),t.qZA(),t.qZA(),t.TgZ(44,"tr"),t.TgZ(45,"td",15),t._uU(46,"Education"),t.qZA(),t.TgZ(47,"td",15),t._uU(48),t.qZA(),t.qZA(),t.TgZ(49,"tr"),t.TgZ(50,"td",15),t._uU(51,"Occupation"),t.qZA(),t.TgZ(52,"td",15),t._uU(53),t.qZA(),t.qZA(),t.TgZ(54,"tr"),t.TgZ(55,"td",15),t._uU(56," Work Industry "),t.qZA(),t.TgZ(57,"td",15),t._uU(58),t.qZA(),t.qZA(),t.TgZ(59,"tr"),t.TgZ(60,"td",15),t._uU(61," Investment objectives "),t.qZA(),t.TgZ(62,"td",15),t._uU(63),t.qZA(),t.qZA(),t.TgZ(64,"tr"),t.TgZ(65,"td",15),t._uU(66," Level of risk "),t.qZA(),t.TgZ(67,"td",15),t._uU(68),t.qZA(),t.qZA(),t.TgZ(69,"tr"),t.TgZ(70,"td",15),t._uU(71," Investment decisions "),t.qZA(),t.TgZ(72,"td",15),t._uU(73),t.qZA(),t.qZA(),t.TgZ(74,"tr"),t.TgZ(75,"td",15),t._uU(76," Family/Friend "),t.qZA(),t.TgZ(77,"td",15),t._uU(78),t.qZA(),t.qZA(),t.TgZ(79,"tr"),t.TgZ(80,"td",15),t._uU(81," Trusted contact "),t.qZA(),t.TgZ(82,"td",15),t._uU(83),t.qZA(),t.qZA(),t.TgZ(84,"tr"),t.TgZ(85,"td",15),t._uU(86," Identity type "),t.qZA(),t.TgZ(87,"td",15),t._uU(88),t.TgZ(89,"div",16),t.YNc(90,ut,4,2,"div",17),t.YNc(91,ct,4,2,"div",17),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(13),t.hij(" ",null==e.userDetails$?null:e.userDetails$.legal_name," "),t.xp6(5),t.hij(" ",(null==e.userDetails$?null:e.userDetails$.need_for_liquidity)||"-"," "),t.xp6(5),t.hij(" ",(null==e.userDetails$?null:e.userDetails$.annual_income)||"-"," "),t.xp6(5),t.hij(" ",(null==e.userDetails$?null:e.userDetails$.fracprop_association)||"-"," "),t.xp6(5),t.hij(" ",(null==e.userDetails$?null:e.userDetails$.source_of_fund)||"-"," "),t.xp6(5),t.hij(" ",(null==e.userDetails$||null==e.userDetails$.bank_details?null:e.userDetails$.bank_details.name)||"-"," "),t.xp6(5),t.hij(" ",(null==e.userDetails$?null:e.userDetails$.employment_status)||"-"," "),t.xp6(5),t.hij(" ",(null==e.userDetails$?null:e.userDetails$.education)||"-"," "),t.xp6(5),t.hij(" ",(null==e.userDetails$?null:e.userDetails$.occupation)||"-"," "),t.xp6(5),t.hij(" ",(null==e.userDetails$?null:e.userDetails$.work_industry)||"-"," "),t.xp6(5),t.hij(" ",(null==e.userDetails$?null:e.userDetails$.investment_objectivesNew)||"-"," "),t.xp6(5),t.hij(" ",(null==e.userDetails$?null:e.userDetails$.level_of_risk)||"-"," "),t.xp6(5),t.hij(" ",(null==e.userDetails$?null:e.userDetails$.investment_decisions)||"-"," "),t.xp6(5),t.hij(" ",!0===(null==e.userDetails$?null:e.userDetails$.isFamily)?"Yes":"No"," "),t.xp6(5),t.xDo(" ",(null==e.userDetails$||null==e.userDetails$.truested_user?null:e.userDetails$.truested_user.first_name)||"-"," ",(null==e.userDetails$||null==e.userDetails$.truested_user?null:e.userDetails$.truested_user.last_name)||"-",", ",(null==e.userDetails$||null==e.userDetails$.truested_user?null:e.userDetails$.truested_user.email)||"-"," ",(null==e.userDetails$||null==e.userDetails$.truested_user?null:e.userDetails$.truested_user.phone_number)||"-",", ",(null==e.userDetails$||null==e.userDetails$.truested_user?null:e.userDetails$.truested_user.alt_number)||"-"," "),t.xp6(5),t.hij(" ",(null==e.userDetails$?null:e.userDetails$.id_type)||"-"," "),t.xp6(2),t.Q6J("ngIf",null==e.userDetails$?null:e.userDetails$.upload_front),t.xp6(1),t.Q6J("ngIf",null==e.userDetails$?null:e.userDetails$.upload_back)}}function mt(i,a){1&i&&(t.TgZ(0,"div",14),t.TgZ(1,"div",34),t._UZ(2,"img",35),t.qZA(),t.qZA())}function ft(i,a){1&i&&(t.TgZ(0,"div",14),t.TgZ(1,"div",34),t._UZ(2,"img",35),t.qZA(),t.qZA())}function vt(i,a){1&i&&(t.TgZ(0,"div",14),t.TgZ(1,"div",34),t._UZ(2,"img",35),t.qZA(),t.qZA())}function Zt(i,a){if(1&i&&(t.TgZ(0,"a",21),t.TgZ(1,"div"),t.TgZ(2,"div",14),t._UZ(3,"img",35),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw().$implicit;t.Q6J("href",e,t.LSH)}}function _t(i,a){if(1&i&&(t.TgZ(0,"div",14),t.YNc(1,Zt,4,1,"a",36),t.qZA()),2&i){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",null==e.userDetails$?null:e.userDetails$.upload_director_id_document.length)}}function ht(i,a){if(1&i&&(t.TgZ(0,"div",24),t.TgZ(1,"div",25),t.TgZ(2,"div",26),t.TgZ(3,"mat-label",27),t._uU(4,"Trade Name - "),t.qZA(),t.TgZ(5,"span",27),t._uU(6),t.qZA(),t.qZA(),t.TgZ(7,"div",26),t.TgZ(8,"mat-label",27),t._uU(9,"Business Type - "),t.qZA(),t.TgZ(10,"span",27),t._uU(11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",28),t.TgZ(13,"div",26),t.TgZ(14,"mat-label",27),t._uU(15," Registration Document"),t.qZA(),t.TgZ(16,"a",21),t.YNc(17,mt,3,0,"div",29),t.qZA(),t.qZA(),t.TgZ(18,"div",26),t.TgZ(19,"mat-label",27),t._uU(20,"Resolution of Director\u2019s"),t.qZA(),t.TgZ(21,"a",21),t.YNc(22,ft,3,0,"div",29),t.qZA(),t.qZA(),t.qZA(),t.TgZ(23,"div",30),t.TgZ(24,"div",11),t.TgZ(25,"mat-label",27),t._uU(26,"Registered Company Address Proof"),t.qZA(),t.TgZ(27,"a",21),t.YNc(28,vt,3,0,"div",29),t.qZA(),t.qZA(),t.qZA(),t.TgZ(29,"div",31),t.TgZ(30,"div",26),t.TgZ(31,"mat-label",27),t._uU(32," Director\u2019s ID Document"),t.qZA(),t.TgZ(33,"div",32),t.YNc(34,_t,2,1,"div",33),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const e=t.oxw(2);t.xp6(6),t.Oqu(null==e.userDetails$?null:e.userDetails$.trade_name),t.xp6(5),t.Oqu(null==e.userDetails$?null:e.userDetails$.business_type),t.xp6(5),t.Q6J("href",null==e.userDetails$?null:e.userDetails$.upload_registration_document,t.LSH),t.xp6(1),t.Q6J("ngIf",null==e.userDetails$?null:e.userDetails$.upload_registration_document),t.xp6(4),t.Q6J("href",null==e.userDetails$?null:e.userDetails$.resulation_of_director,t.LSH),t.xp6(1),t.Q6J("ngIf",null==e.userDetails$?null:e.userDetails$.resulation_of_director),t.xp6(5),t.Q6J("href",null==e.userDetails$?null:e.userDetails$.registered_company_address_proof,t.LSH),t.xp6(1),t.Q6J("ngIf",null==e.userDetails$?null:e.userDetails$.registered_company_address_proof),t.xp6(6),t.Q6J("ngForOf",null==e.userDetails$?null:e.userDetails$.upload_director_id_document)}}function xt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",37),t.TgZ(1,"button",38),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateStatus("APPROVED")}),t._uU(2," Approve "),t.qZA(),t.TgZ(3,"button",39),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateStatus("REJECTED")}),t._uU(4," Reject "),t.qZA(),t.qZA()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("disabled",e.isLoading),t.xp6(2),t.Q6J("disabled",e.isLoading)}}function Tt(i,a){if(1&i&&(t.TgZ(0,"div",5),t.TgZ(1,"div",6),t._uU(2,"User Details"),t.qZA(),t.TgZ(3,"div"),t.TgZ(4,"button",7),t._uU(5),t.qZA(),t.qZA(),t.YNc(6,pt,92,22,"div",8),t.YNc(7,ht,35,9,"div",9),t.YNc(8,xt,5,2,"div",10),t.qZA()),2&i){const e=t.oxw();t.xp6(5),t.hij(" ","BUSINESS"===(null==e.userDetails$?null:e.userDetails$.role)?null==e.userDetails$?null:e.userDetails$.company_name:null==e.userDetails$?null:e.userDetails$.username," "),t.xp6(1),t.Q6J("ngIf","STANDARD_USER"===(null==e.userDetails$?null:e.userDetails$.role)),t.xp6(1),t.Q6J("ngIf","BUSINESS"===(null==e.userDetails$?null:e.userDetails$.role)),t.xp6(1),t.Q6J("ngIf","APPROVED"!=(null==e.userDetails$?null:e.userDetails$.userStatus))}}const Dt=[{path:"list",component:st},{path:"details/:id/:status",component:(()=>{class i{constructor(e,s,l,o,g,c,p,m,v){this.titleService=e,this._changeDetectorRef=s,this._fuseConfirmationService=l,this._activatedRoute=o,this._userService=g,this._commonService=c,this._errorService=p,this._authService=m,this._router=v,this.isLoading=!1,this.selectedUserId="",this.status="",this.titleService.setTitle("FracProp"),this._activatedRoute.paramMap.subscribe(A=>{A.get("id")&&(this.selectedUserId=A.get("id"),this.status=A.get("status"),this.fetchUserDetails())})}ngOnInit(){}fetchUserDetails(){this.isLoading=!0,this._userService.getUserDetails(this.selectedUserId).subscribe(e=>{this.isLoading=!1,this.userDetails$=Object.assign(Object.assign(Object.assign({},null==e?void 0:e.kycDetails),null==e?void 0:e.userDetails),{upload_director_id_document:(null==e?void 0:e.kycDetails.upload_director_id_document)?null==e?void 0:e.kycDetails.upload_director_id_document.split(","):""}),console.log(this.userDetails$)},e=>{console.log(e.error.message),this._errorService.errorMessage(e.error.message),this._commonService.error(e.error.message),this._router.navigate(["/users/list"]),this.isLoading=!1})}updateStatus(e){this.isLoading=!0,this._userService.updateUserStatus({id:this.selectedUserId,status:e}).subscribe(s=>{var l;"APPROVED"===e&&"STANDARD_USER"===(null===(l=this.userDetails$)||void 0===l?void 0:l.role)?this.matchingGrps():(this._router.navigate(["/users/list"]),window.scroll(0,0)),this.isLoading=!1},s=>{this.isLoading=!1})}matchingGrps(){this.isLoading=!0,this._userService.matchingForGrps(this.selectedUserId).subscribe(e=>{this.isLoading=!1,this._router.navigate(["/users/list"]),window.scroll(0,0),this._changeDetectorRef.detectChanges()},e=>{console.log("error"),this.isLoading=!1})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(N.Dx),t.Y36(t.sBO),t.Y36(y.R),t.Y36(Z.gz),t.Y36(x),t.Y36(w.v),t.Y36(I.r),t.Y36(j.e),t.Y36(Z.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-details"]],decls:3,vars:2,consts:[[1,"w-full","min-h-full","flex","items-center","justify-center"],["class","absolute inset-x-0 top-0",4,"ngIf"],["class","flex flex-col items-center justify-center gap-4 border-2 p-8 m-4 bg-white w-1/2",4,"ngIf"],[1,"absolute","inset-x-0","top-0"],[3,"mode"],[1,"flex","flex-col","items-center","justify-center","gap-4","border-2","p-8","m-4","bg-white","w-1/2"],[1,"text-4xl","font-semibold","text-center"],[1,"text-3xl","bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded-full"],["class","w-full",4,"ngIf"],["class","w-full gap-8",4,"ngIf"],["class","space-x-4",4,"ngIf"],[1,"w-full"],[1,"border-collapse","border","border-slate-400","text-2xl","w-full"],[1,"py-4","border","border-slate-300"],[1,""],[1,"p-4","border","border-slate-300"],[1,"flex","w-full","gap-4"],["class","flex flex-col relative",4,"ngIf"],[1,"flex","flex-col","relative"],[4,"ngIf","ngIfElse"],["otherFileTypes",""],["target","_blank",3,"href"],["src","../../../../../assets/images/logo/pdf.svg","alt","pdf",1,"w-14","h-16"],["alt","",1,"w-14","h-16","rounded-lg","border-2","border-slate-800",3,"src"],[1,"w-full","gap-8"],[1,"flex","space-x-4","w-full"],[1,"w-1/2"],[1,"text-2xl"],[1,"flex","items-center","justify-center","space-x-4"],["class","",4,"ngIf"],[1,"flex","space-x-3"],[1,"flex","space-x-4"],[1,"flex","gap-1"],["class","",4,"ngFor","ngForOf"],[1,"pl-4"],["src","assets/images/logo/pdf.svg",1,"h-16","w-16"],["target","_blank",3,"href",4,"ngIf"],[1,"space-x-4"],[1,"bg-green-600","h-12","w-40","text-white","font-bold","py-2","px-4","rounded",3,"disabled","click"],[1,"bg-red-600","h-12","w-40","text-white","font-bold","py-2","px-4","rounded",3,"disabled","click"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t.YNc(1,at,2,1,"div",1),t.YNc(2,Tt,9,4,"div",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",s.isLoading),t.xp6(1),t.Q6J("ngIf",null==s.userDetails$?null:s.userDetails$.role))},directives:[f.O5,h.pW,b.hX,f.sg],styles:[""]}),i})()}];let At=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[x,{provide:D.q_,useClass:D.LK}],imports:[[Z.Bz.forChild(Dt),J.ot,P.p9,b.lN,L.Cq,Y.Ps,Q.c,O.Tx,_.TU,h.Cv,q.si,$.JX,R.LD,C.rP,M.To,S.AV,F.m,E.t,B.Fk,D.FA,q.XK,L.Cq,lt.rK,T.vV,nt.y4,C.rP]]}),i})()}}]);