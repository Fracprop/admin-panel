"use strict";(self.webpackChunk_fracprop_panel=self.webpackChunk_fracprop_panel||[]).push([[92],{6092:(V,c,n)=>{n.r(c),n.d(c,{FinanceModule:()=>w});var g=n(8583),s=n(3679),t=n(7716),l=n(2340),m=n(5917),f=n(3190),F=n(1841);let T=(()=>{class o{constructor(e){this._httpClient=e}getList(e){return this._httpClient.get(l.N.apiEndPoint+"fund-account/financeList",{}).pipe((0,f.w)(i=>(0,m.of)(i)))}getDetails(e){return this._httpClient.get(l.N.apiEndPoint+"what-new/getWhatNewId/"+e).pipe((0,f.w)(i=>(0,m.of)(i)))}addFeeParameters(e){return this._httpClient.post(l.N.apiEndPoint+"fund-account/finance",Object.assign({},e)).pipe((0,f.w)(i=>(0,m.of)(i)))}editFeeParameters(e,i){return this._httpClient.patch(l.N.apiEndPoint+"fund-account/finance/"+i,Object.assign({},e)).pipe((0,f.w)(a=>(0,m.of)(a)))}}return o.\u0275fac=function(e){return new(e||o)(t.LFG(F.eN))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var A=n(8351),p=n(1095),u=n(1436),h=n(6627),d=n(8295),v=n(2178),x=n(9983),Z=n(1769);function C(o,r){1&o&&(t.TgZ(0,"div",16),t._UZ(1,"mat-progress-bar",17),t.qZA()),2&o&&(t.xp6(1),t.Q6J("mode","indeterminate"))}function b(o,r){1&o&&t._UZ(0,"mat-progress-spinner",28),2&o&&t.Q6J("diameter",24)("mode","indeterminate")}function L(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"form",18),t.TgZ(1,"div",10),t.TgZ(2,"div",11),t.TgZ(3,"mat-form-field",19),t.TgZ(4,"mat-label",20),t._uU(5," Transaction Fee(%) "),t._UZ(6,"span",13),t.qZA(),t._UZ(7,"input",21),t.qZA(),t.qZA(),t.TgZ(8,"div",14),t.TgZ(9,"mat-form-field",19),t.TgZ(10,"mat-label",20),t._uU(11,"Listing Fee(%)"),t._UZ(12,"span",13),t.qZA(),t._UZ(13,"input",22),t.qZA(),t.qZA(),t.qZA(),t._UZ(14,"mat-divider",23),t.TgZ(15,"div",24),t.TgZ(16,"button",25),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.openForm=!a.openForm}),t._uU(17,"Cancel"),t.qZA(),t.TgZ(18,"button",26),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return a.form.value.transactionFee&&a.form.value.listingFee?a.editFeeDetails():a.addFeeDetails()}),t.TgZ(19,"span"),t._uU(20," Save"),t.qZA(),t.YNc(21,b,1,2,"mat-progress-spinner",27),t.qZA(),t.qZA(),t.qZA()}if(2&o){const e=t.oxw();t.Q6J("formGroup",e.form),t.xp6(3),t.Q6J("floatLabel","always"),t.xp6(4),t.Q6J("formControlName","transactionFee"),t.xp6(2),t.Q6J("floatLabel","always"),t.xp6(4),t.Q6J("formControlName","listingFee"),t.xp6(5),t.Q6J("color","primary"),t.xp6(3),t.Q6J("ngIf",e.isLoading)}}let y=(()=>{class o{constructor(e,i,a,Y){this._formBuilder=e,this._financeService=i,this._commonService=a,this._changeDetectorRef=Y,this.isLoading=!1,this.openForm=!1}ngOnInit(){this.form=this._formBuilder.group({transactionFee:[null,[s.kI.required]],listingFee:[null,[s.kI.required]]}),this.fetchFeeDetails()}fetchFeeDetails(){this.isLoading=!0,this._financeService.getList({}).subscribe(e=>{this.isLoading=!1,this.patchValuestOfForm(e),this.transactionFee=null==e?void 0:e.transactionFee,this.listingFee=null==e?void 0:e.listingFee,this.id=null==e?void 0:e.id,this._changeDetectorRef.detectChanges()},e=>{this._commonService.error(e.message),this.isLoading=!1})}addFeeDetails(){this.isLoading=!0,this.form.invalid?this.isLoading=!1:(this.patchValuestOfForm(this.form.value),this._financeService.addFeeParameters(this.form.value).subscribe(e=>{this.isLoading=!1,this.openForm=!1,console.log(e)},e=>{this.isLoading=!1,this._commonService.error(e.error.message)}))}editFeeDetails(){this.isLoading=!0,this.form.invalid?this.isLoading=!1:(this.patchValuestOfForm(this.form.value),this._financeService.editFeeParameters(this.form.value,this.id).subscribe(e=>{this.isLoading=!1,this.fetchFeeDetails(),this.openForm=!1,this.id=null==e?void 0:e.id},e=>{this.isLoading=!1,this._commonService.error(e.error.message)}))}patchValuestOfForm(e){Object.keys(this.form.controls).forEach(i=>{this.form.controls[i].setValue(e[i]?e[i].toString():"")})}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(s.qu),t.Y36(T),t.Y36(A.v),t.Y36(t.sBO))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-tax-management"]],decls:23,vars:8,consts:[[1,"sm:absolute","sm:inset-0","flex","flex-col","flex-auto","min-w-0","sm:overflow-hidden","bg-card","dark:bg-transparent"],[1,"relative","flex","flex-col","sm:flex-row","flex-0","sm:items-center","sm:justify-between","py-4","px-6","md:px-4"],["class","absolute inset-x-0 top-0",4,"ngIf"],[1,"flex","items-start","justify-between","w-full"],[1,"text-3xl","font-bold","tracking-tight","leading-8","text-theme"],[1,"mr-4","flex","justify-end"],["mat-flat-button","","type","button",1,"ml-4","bg-header","rounded-lg",3,"matTooltip","color","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[1,"flex","flex-col","mt-4","px-8","pt-10","overflow-hidden"],[1,"grid","sm:grid-cols-2","md:grid-cols-2","gap-6","w-full","min-w-0"],[1,"w-full","flex"],[1,"font-bold","text-2xl"],[1,"text-warn"],[1,"flex","flex-col","gt-xs:flex-row"],["class","flex flex-col mt-4 px-8 pt-10 bg-card shadow rounded overflow-hidden",3,"formGroup",4,"ngIf"],[1,"absolute","inset-x-0","top-0"],[3,"mode"],[1,"flex","flex-col","mt-4","px-8","pt-10","bg-card","shadow","rounded","overflow-hidden",3,"formGroup"],[1,"flex-auto","gt-xs:pr-3",3,"floatLabel"],[1,"text-header","font-bold"],["matInput","","placeholder","Enter transaction fee","type","number","min","0",3,"formControlName"],["matInput","","placeholder","Enter listing fee","type","number","min","0",3,"formControlName"],[1,"mt-5","mb-5"],[1,"flex","items-center","justify-end","border-t","-mx-8","mt-8","px-8","py-5","bg-gray-50","dark:bg-gray-700"],["mat-button","",3,"click"],["mat-flat-button","",1,"px-6","ml-3","bg-theme",3,"color","click"],[3,"diameter","mode",4,"ngIf"],[3,"diameter","mode"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"div",1),t.YNc(2,C,2,1,"div",2),t.TgZ(3,"div",3),t.TgZ(4,"div"),t.TgZ(5,"h2",4),t._uU(6," Tax Management "),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(7,"div",5),t.TgZ(8,"button",6),t.NdJ("click",function(){return i.openForm=!i.openForm}),t._UZ(9,"mat-icon",7),t.TgZ(10,"span",8),t._uU(11),t.qZA(),t.qZA(),t.qZA(),t.TgZ(12,"div",9),t.TgZ(13,"div",10),t.TgZ(14,"div",11),t.TgZ(15,"mat-label",12),t._uU(16),t._UZ(17,"span",13),t.qZA(),t.qZA(),t.TgZ(18,"div",14),t.TgZ(19,"mat-label",12),t._uU(20),t._UZ(21,"span",13),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.YNc(22,L,22,7,"form",15),t.qZA()),2&e&&(t.xp6(2),t.Q6J("ngIf",i.isLoading),t.xp6(6),t.Q6J("matTooltip","Add Tax")("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus"),t.xp6(2),t.Oqu(i.form.value.transactionFee&&i.form.value.listingFee?"Edit tax values":"Add tax values"),t.xp6(5),t.hij(" Transaction Fee(%) - ",i.transactionFee||"NA",""),t.xp6(4),t.hij("Listing Fee(%) - ",i.listingFee||"NA",""),t.xp6(2),t.Q6J("ngIf",i.openForm))},directives:[g.O5,p.lW,u.gM,h.Hw,d.hX,v.pW,s._Y,s.JL,s.sg,d.KE,x.Nt,s.qQ,s.wV,s.Fj,s.JJ,s.u,Z.d],styles:[""]}),o})();var J=n(3423),N=n(7539),M=n(3935),U=n(9692),I=n(2458),Q=n(1494),S=n(5396),j=n(4466),D=n(171),O=n(2613),E=n(7441);const P=[{path:"",component:y}];let w=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[g.ez,J.Bz.forChild(P),p.ot,N.p9,d.lN,h.Ps,x.c,M.Tx,U.TU,v.Cv,I.si,Q.JX,E.LD,S.rP,D.To,u.AV,j.m,Z.t,O.Fk]]}),o})()}}]);