"use strict";(self.webpackChunk_fracprop_panel=self.webpackChunk_fracprop_panel||[]).push([[555],{4288:(B,g,i)=>{i.r(g),i.d(g,{AuthSignInModule:()=>M});var c=i(3423),u=i(1095),v=i(7539),l=i(8295),f=i(6627),p=i(9983),h=i(4885),x=i(2255),I=i(588),A=i(4466),a=i(3679),Z=i(8288),t=i(7716),w=i(9075),y=i(8951),d=i(8394),S=i(8351),T=i(2422),_=i(8583),C=i(3994);const b=["signInNgForm"];function F(e,r){if(1&e&&(t.TgZ(0,"fuse-alert",26),t._uU(1),t.qZA()),2&e){const n=t.oxw(2);t.Q6J("appearance","outline")("showIcon",!1)("type",n.alert.type)("@shake","error"===n.alert.type),t.xp6(1),t.hij(" ",n.alert.message," ")}}function J(e,r){if(1&e&&(t.TgZ(0,"mat-error"),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n("user_name_required")," ")}}function U(e,r){1&e&&t._UZ(0,"mat-icon",27),2&e&&t.Q6J("svgIcon","heroicons_solid:eye-off")}function N(e,r){1&e&&t._UZ(0,"mat-icon",27),2&e&&t.Q6J("svgIcon","heroicons_solid:eye")}function Q(e,r){if(1&e&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&e){const n=t.oxw().$implicit;t.xp6(1),t.hij(" ",n("sign_in")," ")}}function j(e,r){1&e&&t._UZ(0,"mat-progress-spinner",28),2&e&&t.Q6J("diameter",24)("mode","indeterminate")}function Y(e,r){if(1&e){const n=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"div",2),t.TgZ(2,"div",3),t._UZ(3,"img",4),t._UZ(4,"div",5),t.qZA(),t.TgZ(5,"div",6),t.TgZ(6,"div",7),t._uU(7," Sign In "),t.qZA(),t.YNc(8,F,2,5,"fuse-alert",8),t.TgZ(9,"form",9,10),t.TgZ(11,"mat-form-field",11),t.TgZ(12,"mat-label"),t._uU(13),t.qZA(),t._UZ(14,"input",12),t.YNc(15,J,2,1,"mat-error",13),t.qZA(),t.TgZ(16,"mat-form-field",11),t.TgZ(17,"mat-label"),t._uU(18),t.qZA(),t._UZ(19,"input",14,15),t.TgZ(21,"button",16),t.NdJ("click",function(){t.CHM(n);const o=t.MAs(20);return o.type="password"===o.type?"text":"password"}),t.YNc(22,U,1,1,"mat-icon",17),t.YNc(23,N,1,1,"mat-icon",17),t.qZA(),t.TgZ(24,"mat-error"),t._uU(25),t.qZA(),t.qZA(),t._UZ(26,"div",18),t.TgZ(27,"button",19),t.NdJ("click",function(){return t.CHM(n),t.oxw().signIn()}),t.YNc(28,Q,2,1,"span",13),t.YNc(29,j,1,2,"mat-progress-spinner",20),t.qZA(),t.qZA(),t.qZA(),t._UZ(30,"div"),t.qZA(),t.TgZ(31,"div",21),t.TgZ(32,"div",22),t.TgZ(33,"div",23),t.TgZ(34,"div"),t._uU(35),t.qZA(),t.TgZ(36,"div"),t._uU(37,"\xa0FracProp"),t.qZA(),t.qZA(),t._UZ(38,"div",24),t.qZA(),t._UZ(39,"div",25),t.qZA(),t.qZA()}if(2&e){const n=r.$implicit,s=t.MAs(20),o=t.oxw();t.xp6(8),t.Q6J("ngIf",o.showAlert),t.xp6(1),t.Q6J("formGroup",o.signInForm),t.xp6(2),t.Q6J("floatLabel","always"),t.xp6(2),t.Oqu(n("email")),t.xp6(1),t.s9C("placeholder",n("enter_email")),t.Q6J("formControlName","email"),t.xp6(1),t.Q6J("ngIf",o.signInForm.get("email").hasError("required")),t.xp6(1),t.Q6J("floatLabel","always"),t.xp6(2),t.Oqu(n("password")),t.xp6(1),t.s9C("placeholder",n("enter_password")),t.Q6J("formControlName","password"),t.xp6(3),t.Q6J("ngIf","password"===s.type),t.xp6(1),t.Q6J("ngIf","text"===s.type),t.xp6(2),t.hij(" ",n("password_required")," "),t.xp6(2),t.Q6J("disabled",o.signInForm.disabled),t.xp6(1),t.Q6J("ngIf",!o.signInForm.disabled),t.xp6(1),t.Q6J("ngIf",o.signInForm.disabled),t.xp6(6),t.Oqu(n("welcome_to"))}}const L=[{path:"",component:(()=>{class e{constructor(n,s,o,m,q,O,R,z){this.titleService=n,this._activatedRoute=s,this._authService=o,this._formBuilder=m,this._router=q,this._translocoService=O,this._commonService=R,this._errorService=z,this.alert={type:"success",message:null},this.showAlert=!1,this.titleService.setTitle("FracProp - Sign In")}ngOnInit(){this.availableLangs=this._translocoService.getAvailableLangs(),this.signInForm=this._formBuilder.group({email:["",[a.kI.required]],password:["",a.kI.required]})}signIn(){if(this.signInForm.invalid)return;let n=Object.assign({},this.signInForm.value);this.signInForm.disable(),this.showAlert=!1,this._authService.signIn(n).subscribe(s=>{var o;if("ADMIN"!==(null===(o=null==s?void 0:s.userValue)||void 0===o?void 0:o.role)){let m=this._errorService.errorMessage(s);return this.alert={type:"error",message:m},this.signInForm.enable(),void(this.showAlert=!0)}{const m=this._activatedRoute.snapshot.queryParamMap.get("redirectURL")||"/signed-in-redirect";this._router.navigateByUrl(m)}},s=>{this.signInForm.enable(),this.signInNgForm.resetForm(),this.alert={type:"error",message:this._translocoService.translate("wrong_email_password")},this.showAlert=!0})}setActiveLang(n){this._translocoService.setActiveLang(n),this._translocoService.getActiveLang()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(w.Dx),t.Y36(c.gz),t.Y36(y.e),t.Y36(a.qu),t.Y36(c.F0),t.Y36(d.Vn),t.Y36(S.v),t.Y36(T.r))},e.\u0275cmp=t.Xpm({type:e,selectors:[["auth-sign-in"]],viewQuery:function(n,s){if(1&n&&t.Gf(b,5),2&n){let o;t.iGM(o=t.CRH())&&(s.signInNgForm=o.first)}},decls:1,vars:0,consts:[["class","flex flex-col sm:flex-row items-center md:items-start sm:justify-center md:justify-start flex-auto min-w-0",4,"transloco"],[1,"flex","flex-col","sm:flex-row","items-center","md:items-start","sm:justify-center","md:justify-start","flex-auto","min-w-0"],[1,"flex","flex-col","md:flex","md:items-center","justify-between","w-full","sm:w-auto","md:h-full","md:w-1/2","py-6","px-4","sm:p-12","md:p-","sm:rounded-2xl","md:rounded-none","sm:shadow","md:shadow-none","sm:bg-card"],[1,"flex","flex-col","flex-0","items-center","w-full","justify-center","space-x-4"],["alt","","src","../../../../assets/images/logo/logo-fracprop.svg",2,"width","300px !important"],[1,"mt-2"],[1,"w-full","max-w-80","sm:w-80"],[1,"flex","flex-col","flex-0","items-center","pt-8","text-4xl","font-extrabold","tracking-tight","leading-tight","justify-center"],["class","mt-8 -mb-4",3,"appearance","showIcon","type",4,"ngIf"],[1,"mt-8",3,"formGroup"],["signInNgForm","ngForm"],[1,"w-full",3,"floatLabel"],["id","username","matInput","",3,"formControlName","placeholder"],[4,"ngIf"],["id","password","matInput","","type","password",3,"formControlName","placeholder"],["passwordField",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[1,"inline-flex","items-end","justify-between","w-full","mt-1.5"],["mat-flat-button","",1,"fuse-mat-button-large","w-full","mt-6","bg-theme","mb-8","text-white",3,"disabled","click"],[3,"diameter","mode",4,"ngIf"],[1,"relative","hidden","md:flex","flex-auto","flex-col","items-center","justify-center","w-1/2","h-full","p-16","lg:px-28","overflow-hidden","dark:border-l","signin_bg"],[1,"z-10","relative","w-full","max-w-2xl"],[1,"text-7xl","flex","font-bold","leading-none","text-black"],[1,"mt-6","text-base","tracking-tight","leading-6","text-gray-400"],[1,"flex","items-center","fixed","bottom-10"],[1,"mt-8","-mb-4",3,"appearance","showIcon","type"],[1,"icon-size-5",3,"svgIcon"],[3,"diameter","mode"]],template:function(n,s){1&n&&t.YNc(0,Y,40,18,"div",0)},directives:[d.KI,_.O5,a._Y,a.JL,a.sg,l.KE,l.hX,p.Nt,a.Fj,a.JJ,a.u,u.lW,l.R9,l.TO,C.W,f.Hw,h.Ou],encapsulation:2,data:{animation:Z.L}}),e})()}];let M=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[c.Bz.forChild(L),u.ot,v.p9,l.lN,f.Ps,p.c,h.Cq,x.J,I.fC,A.m,d.y4]]}),e})()}}]);